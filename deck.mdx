import {
  CodeSurfer,
  CodeSurferColumns,
  Step,
} from "code-surfer";
import { github, vsDark } from "@code-surfer/themes";
import {
  Notes,
  Head,
  Appear,
  Split,
  Invert,
} from "mdx-deck";
import {
  Meta,
  Profile,
  Page,
  Colors,
  Heading,
  SubHeading,
  Paragraph,
  MarginBottom,
} from "./src";
import ReactNative from "./react-native.png";
import RNHelloWorld from "./images/rn-hello-world.png";
import RNHelloWorldStyled from "./images/rn-hello-world-styled.png";
import RNButton from "./images/rn-button.png";
import RNButtonStyled from "./images/rn-button-styled.png";
import RNPlatform from "./images/rn-platform.png";
import RNActivityIndicator from "./images/rn-activity-indicator.png";
import RNWebView from "./images/rn-webview.png";
import RNSafeAreaView from "./images/rn-safe-area-view.png";
import MyPic from "./images/my-pic.jpg";
import CureAppLogo from "./images/cureapp-logo.png";
import TwitterLogo from "./images/twitter-logo.png";
import GithubLogo from "./images/github-logo.png";
import {
  View,
  Text,
  TouchableOpacity,
  Platform,
  ActivityIndicator,
  StyleSheet,
  Image,
} from "react-native-web";

export const theme = {
  ...vsDark,
  fonts: {
    body: "-apple-system, system-ui, sans-serif",
  },
};

<Head>
  <title>Visual Regression Test in React Native</title>
  <meta property="og:locale" content="ja_JP" />
  <meta
    property="og:title"
    content="Visual Regression Test in React Native"
  />
  <meta
    property="og:description"
    content="Introduction to React Native"
  />
  <meta property="og:type" content="article" />
  <meta
    property="og:url"
    content="https://visual-regression-test-in-react-native.now.sh/assets/oembed.json"
  />
  <meta
    property="og:image"
    content="https://visual-regression-test-in-react-native.now.sh/assets/card.png"
  />
  <meta
    property="article:published_time"
    content="2020-08-06T14:46:16.704Z"
  />
  <meta property="article:author" content="naturalclar" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@Naturalclar" />
  <meta
    name="twitter:title"
    content="Visual Regression Test in React Native"
  />
  <meta
    name="twitter:description"
    content="Visual Regression Test in React Native"
  />
  <meta
    name="twitter:image"
    content="https://visual-regression-test-in-react-native.now.sh/assets/card.png"
  />
  <link
    rel="alternate"
    type="application/json+oembed"
    href={`https://visual-regression-test-in-react-native.now.sh/assets/oembed.json`}
    title="Visual Regression Test in React Native"
  />
</Head>

<Page>
  <View
    style={{
      flex: 1,
      justifyContent: "flex-end",
    }}
  >
    <Heading>
      <Text style={{ color: Colors.baseTextColor }}>
        Visual Regression Test{" "}
      </Text>
      <Text style={{ color: "#d081c4" }}>for</Text> <Text style={{ color: Colors.secondaryColor }}>React Native</Text>
    </Heading>
    <MarginBottom size={24} />
    <Paragraph style={{ color: Colors.secondaryColor }}>
      Jesse Katsumata
    </Paragraph>
    <Paragraph style={{ color: Colors.secondaryColor }}>
      @natural_clar
    </Paragraph>
    <MarginBottom size={24} />
    <Paragraph>React Native EU 2020</Paragraph>
  </View>
</Page>

---

<Page>
  <SubHeading>Hello! ğŸ‘‹</SubHeading>
  <MarginBottom size={16} />
  <Paragraph>I'm <Text style={{fontWeight:'600'}}>Jesse Katsumata</Text></Paragraph>
  <MarginBottom size={8} />
  <View style={{flexDirection:'row',alignItems:'center'}}>
  <View style={{width:32,height:32,justifyContent:'center',alignItems:'center',marginRight:8}}>
    <img src={TwitterLogo} />
    </View>
    <Paragraph>@natural_clar</Paragraph>
  </View>
  <MarginBottom size={8} />
  <View style={{flexDirection:'row',alignItems:'center'}}>
  <View style={{width:32,height:32,justifyContent:'center',alignItems:'center',marginRight:8}}>
    <img src={GithubLogo} />
    </View>
    <Paragraph>@Naturalclar</Paragraph>
  </View>
  <MarginBottom size={32} />
  <Paragraph>Front-End Engineer at <Text style={{fontWeight:'600'}}>CureApp, Inc.</Text></Paragraph>
  <MarginBottom size={32} />
  <Paragraph>Member of <Text style={{fontWeight:'600'}}>react-native-community</Text></Paragraph>
  <MarginBottom size={8} />
  <Paragraph>maintaining some Lean Core modules</Paragraph>
  <MarginBottom size={32} />
  <Paragraph>â¤ï¸ OSS & Music</Paragraph>

  <View
    style={{
      position: "absolute",
      height: 240,
      width: 240,
      top: "20%",
      right: "20%",
      transform: [{ rotate: "-20deg" }],
    }}
  >
    <img src={MyPic} width="50%" />
  </View>
  <View
    style={{
      position: "absolute",
      height: 240,
      width: 240,
      top: "60%",
      right: "20%",
    }}
  >
    <img src={CureAppLogo} width="50%" />
  </View>
</Page>

---

<Page>
  <SubHeading>Agenda</SubHeading>
</Page>

---

<Page>
  <SubHeading>UI Testing</SubHeading>
</Page>

---

<Page>
  <SubHeading>Jest Snapshot</SubHeading>
</Page>

---

<Page>
  <SubHeading>React Native Testing Library</SubHeading>
</Page>

---

<CodeSurferColumns themes={[github,vsDark]}>

<Step>

```jsx
import React from "react";

export const HelloWorld = () => {
  return (
    <div className="container">
      <h1>Hello World!</h1>
    </div>
  );
};
```

<div>
  <h1>Hello World!</h1>
</div>

</Step>

<Step>

```jsx
import React from "react";
import { View, Text } from "react-native";

export const HelloWorld = () => {
  return (
    <View>
      <Text>Hello World!</Text>
    </View>
  );
};
```

<img src={RNHelloWorld} width="50%" />

</Step>

<Step>

```jsx
import React from "react";
import { View, Text, StyleSheet } from "react-native";

const styles = StyleSheet.create({
  container: {
    padding: 24,
    borderWidth: 1,
    borderColor: "red",
  },
  text: {
    fontSize: 24,
    color: "blue",
    fontWeight: "bold",
  },
});

export const HelloWorld = () => {
  return (
    <View style={styles.container}>
      <Text style={styles.text}>Hello World!</Text>
    </View>
  );
};
```

<img src={RNHelloWorldStyled} width="50%" />

</Step>

<Step>

```jsx 1:14
import React from "react";

export const Button = () => {
  const handleClick = () => {
    console.log("hello world!");
  };
  return (
    <button onClick={handleClick}>
      <h1>Click Me!</h1>
    </button>
  );
};
```

<button>Click Me!</button>

</Step>

<Step>

```jsx 8:10
import React from "react";

export const Button = () => {
  const handleClick = () => {
    console.log("hello world!");
  };
  return (
    <button onClick={handleClick}>
      <h1>Click Me!</h1>
    </button>
  );
};
```

<button>Click Me!</button>

</Step>

<Step>

```jsx
import React from "react";
import { TouchableOpacity, Text } from "react-native";

export const Button = () => {
  const handleClick = () => {
    console.log("hello world!");
  };
  return (
    <TouchableOpacity onPress={handleClick}>
      <Text>Click Me!</Text>
    </TouchableOpacity>
  );
};
```

<img src={RNButton} width="50%" />

</Step>

<Step>

```jsx
import React from 'react'
import {TouchableOpacity, Text, StyleSheet} from 'react-native'

const styles = {
  container:{
    padding: 24,
    borderRadius: 10,
    backgroundColor: 'blue',
  },
  text: {
    color: 'white'
    fontSize: 24,
    fontWeight: 'bold'
  }
}

export const Button = () => {
  const handleClick = () => {
    console.log('hello world!')
  }
  return (
    <TouchableOpacity style={styles.container} onPress={handleClick}>
      <Text style={{styles.text}}>Click Me!</Text>
    </TouchableOpacity>
  )
}
```

<img src={RNButtonStyled} width="50%" />

</Step>

</CodeSurferColumns>

---

## React Native ç‹¬è‡ªã® API

---

<CodeSurferColumns themes={[github,vsDark]}>

<Step>

```jsx subtitle="Platform API"
import React from 'react'
import {View, Text, Platform} from 'react-native'

export const WhoAmI = () => {
  const platform = Platform.OS
  return (
    <View style={styles.container}>
      <Text style={{styles.text}}>I am {platform}!</Text>
    </View>
  )
}
```

<img src={RNPlatform} width="50%" />

</Step>

<Step>

```jsx subtitle="Activity Indicator"
import React from "react";
import {
  View,
  Text,
  ActivityIndicator,
} from "react-native";

export const LoadingScreen = () => {
  return (
    <View style={styles.container}>
      <ActivityIndicator size="large" />
    </View>
  );
};
```

<img src={RNActivityIndicator} width="50%" />

</Step>

<Step>

```jsx subtitle="SafeAreaView"
import React from "react";
import { SafeAreaView, Text } from "react-native";

export const SafeAreaScreen = () => {
  return (
    <View style={styles.container}>
      <Text>I'm not in SafeArea</Text>
      <SafeAreaView style={styles.container}>
        <Text>I'm In SafeArea!</Text>
        <View style={{ flex: 1 }} />
        <Text>I'm In SafeArea!</Text>
      </SafeAreaView>
      <Text>I'm not in SafeArea</Text>
    </View>
  );
};
```

<img src={RNSafeAreaView} width="50%" />

</Step>

<Step>

```jsx subtitle="WebView"
import React from "react";
import { SafeAreaView } from "react-native";
import { WebView } from "react-native-webview";

export const LoadingScreen = () => {
  return (
    <SafeAreaView style={styles.container}>
      <WebView
        source={{ uri: "https://reactnative.dev/" }}
      />
    </SafeAreaView>
  );
};
```

<img src={RNWebView} width="50%" />

</Step>

</CodeSurferColumns>

---

## ä»–ã«ã‚‚æ§˜ã€…ãª Modules ãŒã‚ã‚Šã¾ã™!

- AsyncStorage
- Cameraroll
- Clipboard
- Bluetooth
- etc...

---

# Getting Started

---

<CodeSurferColumns themes={[github,vsDark]}>

<Step>

<Invert>
  <h1>React Native</h1>
</Invert>

# Expo

</Step>

<Step>

<Invert>
  <h2>React Native</h2>
  <ul>
    ã€€<li>æœ¬å®¶</li>
    <li>å¸¸ã«æœ€æ–° Version ã§ã‚ã‚‹</li>
    <li>æ§˜ã€…ãª Third party module ãŒä½¿ãˆã‚‹</li>
    <li>æ©Ÿèƒ½åˆ¶é™ç„¡ã—</li>
    <li>é–‹ç™ºã™ã‚‹ã®ã« Native ã®çŸ¥è­˜ãŒå¿…è¦ãªã“ã¨ã‚‚ã‚ã‚‹</li>
    <li>Upgrade ãŒå°‘ã—å¤§å¤‰*</li>
  </ul>
</Invert>

<div>
<h2>Expo</h2>
<ul>
  <li>ç°¡æ˜“ç‰ˆ</li>
  <li>Native ã®éƒ¨åˆ†ã‚’ Expoå´ãŒè¡Œã£ã¦ãã‚Œã‚‹</li>
  <li>JavaScript ã®çŸ¥è­˜ã ã‘ã§é–‹ç™ºå¯èƒ½</li>
  <li>OTA Update ã‚„ Push Notification ã®æ§˜ãªä¾¿åˆ©ãªæ©Ÿèƒ½ãŒç”¨æ„ã•ã‚Œã¦ã‚‹</li>
  <li>Version ãŒæœ¬å®¶ã‚ˆã‚Šå°‘ã—å¤ã„</li>
  <li>è‹¥å¹²ã®æ©Ÿèƒ½åˆ¶é™ãŒã‚ã‚‹*</li>
</ul>

</div>
</Step>

<Step>

<Invert>
  <h2>React Native</h2>
  <ul>
    <li>
      <code>npx react-native init AwesomeProject</code>
    </li>
  </ul>
</Invert>

<div>
<h2>Expo</h2>
<ul>
  <li><code>yarn global add expo-cli</code></li>
  <li><code>expo init AwesomeProject</code></li>
</ul>

</div>

</Step>

</CodeSurferColumns>

---

## ã©ã£ã¡ãŒè‰¯ã„ã®ï¼Ÿ

- ã¯ã˜ã‚ã¦è§¦ã‚‹å ´åˆã¯ Expo ã®æ–¹ãŒãŠã™ã™ã‚ã€‚
- å€‹äººçš„ã«ã¯æœ¬å®¶ React Native  ã‚‚ååˆ†å¿«é©ã€‚
- Expo ã¯å¿…è¦ã¨ã‚ã‚Œã° Eject ã§ãã‚‹ã€‚

---

## React Native ã‚’ã¯ã˜ã‚ã¦ã¿ã‚ˆã†ï¼

---

# React Native Web

---

<CodeSurferColumns themes={[github,vsDark]}>

<Step>

```jsx
import React from 'react'
import {TouchableOpacity, Text, StyleSheet} from 'react-native-web'

const styles = {
  container:{
    padding: 24,
    borderRadius: 10,
    backgroundColor: 'blue',
  },
  text: {
    color: 'white'
    fontSize: 24,
    fontWeight: 'bold'
  }
}

export const Button = () => {
  const handleClick = () => {
    console.log('hello world!')
  }
  return (
    <TouchableOpacity style={styles.container} onPress={handleClick}>
      <Text style={{styles.text}}>Click Me!</Text>
    </TouchableOpacity>
  )
}
```

<TouchableOpacity
  style={{
    padding: 24,
    borderRadius: 10,
    backgroundColor: "blue",
  }}
  onPress={() => {}}
>
  <Text
    style={{
      color: "white",
      fontSize: 24,
      fontWeight: "bold",
    }}
  >
    Click Me!
  </Text>
</TouchableOpacity>

</Step>

<Step>

```jsx subtitle="webpack.config.js"
module.exports = {
  ...,
  resolve: {
    alias: {
      'react-native$': 'react-native-web'
    },
    // React Native web ã§ã®ã¿ç•°ãªã‚‹æŒ™å‹•ã¯ .web.js ã‚’ä½¿ã†
    extensions: ['.web.js', '.js','.web.tsx','.tsx']
  }
}
```

### alias: react-native -> react-native-web

</Step>

<Step>

```jsx
import React from 'react'
import {TouchableOpacity, Text, StyleSheet} from 'react-native'

const styles = {
  container:{
    padding: 24,
    borderRadius: 10,
    backgroundColor: 'blue',
  },
  text: {
    color: 'white'
    fontSize: 24,
    fontWeight: 'bold'
  }
}

export const Button = () => {
  const handleClick = () => {
    console.log('hello world!')
  }
  return (
    <TouchableOpacity style={styles.container} onPress={handleClick}>
      <Text style={{styles.text}}>Click Me!</Text>
    </TouchableOpacity>
  )
}
```

<TouchableOpacity
  style={{
    padding: 24,
    borderRadius: 10,
    backgroundColor: "blue",
  }}
  onPress={() => {}}
>
  <Text
    style={{
      color: "white",
      fontSize: 24,
      fontWeight: "bold",
    }}
  >
    Click Me!
  </Text>
</TouchableOpacity>

</Step>

<Step>

```diff 2

```

<TouchableOpacity
  style={{
    padding: 24,
    borderRadius: 10,
    backgroundColor: "blue",
  }}
  onPress={() => {}}
>
  <Text
    style={{
      color: "white",
      fontSize: 24,
      fontWeight: "bold",
    }}
  >
    Click Me!
  </Text>
</TouchableOpacity>

</Step>

<Step>

```jsx subtitle="Platform API"
import React from 'react'
import {View, Text, Platform} from 'react-native'

export const WhoAmI = () => {
  const platform = Platform.OS
  return (
    <View style={styles.container}>
      <Text style={{styles.text}}>I am {platform}!</Text>
    </View>
  )
}
```

<View style={{ padding: 24 }} onPress={() => {}}>
  <Text
    style={{
      color: "white",
      fontSize: 24,
      fontWeight: "bold",
    }}
  >
    I am {Platform.OS}!
  </Text>
</View>

</Step>

<Step>

```jsx subtitle="Activity Indicator"
import React from "react";
import {
  View,
  Text,
  ActivityIndicator,
} from "react-native";

export const LoadingScreen = () => {
  return (
    <View style={styles.container}>
      <ActivityIndicator size="large" />
    </View>
  );
};
```

<ActivityIndicator size="large" />

</Step>

<Step>

```jsx subtitle="WebView...?"
import React from "react";
import { SafeAreaView } from "react-native";
import { WebView } from "react-native-webview";

export const LoadingScreen = () => {
  return (
    <SafeAreaView style={styles.container}>
      <WebView
        source={{ uri: "https://reactnative.dev/" }}
      />
    </SafeAreaView>
  );
};
```

:thinking_face::thinking_face::thinking_face:

</Step>

</CodeSurferColumns>

---

<CodeSurferColumns themes={[github,vsDark]}>

<Step>

<div>
<h1>React Native for Windows</h1>

https://microsoft.github.io/react-native-windows/

</div>

<div>
<h1>React Native for Mac</h1>

Developed by Microsoft

</div>

</Step>

</CodeSurferColumns>

---

THANK YOU
